\startchapter{Conclusions and Future Work}
\label{concl}
This thesis illustrates a novel idea and an approach for dynamic program analysis which considers the interaction of two programs. This idea is valuable due to the fact that programs or malware in the real world work collaboratively. The analysis of the communication and interaction of the programs provide more reliable information for vulnerability detection and program analysis.

In this thesis, I presented an approach to analyze two traces to understand how they communicate with each other. I first defined a communication model. This abstract model depicts the outline of a communication between two running programs, which gives the ground rules for the communication analysis. Then I presented the  formalization of the dual\_trace. The formalization indicates that all traces comply to it can be used to conduct the communication analysis.

I also developed the algorithms for the communication identification. The developed algorithms not only solve the problem for specific communication methods but also provide clear and referable examples for developing other algorithms for other communication methods.

On top of the existing execution trace analysis environment, Atlantis, we implemented the communication identification features. These features provide the users a way to define the functions descriptor for communication methods through the configuration file. The user interface allows the users to conduct the communication identification and stream extraction from a dual trace and navigate back from the results to the views of the trace in Atlantis.  A proof of concept demonstrate feasibility and usability. 

\section{Discussion}
With the communication analysis prototype the user can reconstruct the communications easily. They need to understand the communication model to know what information they should retrieve from the traces to reconstruct the communications. Then they have to understand the communication method they want to investigate and follow the functions descriptor formalization to develop the functions descriptor for this communication method. With the functions descriptor, the user actually can use the old Atlantis (without the implementation of this prototype) to perform the analysis. They need to search for all the function calls to the functions in the functions descriptor, then manually go through all the function calls in the search results and follow the communication identification approach to match the streams by checking the parameter values from the reconstructed memory state of the instruction lines. This manual analysis can be extremely tedious and exhausting. In some situation, there might be a lot of communication captured in the traces and each of these communications contain a lot of message exchanges. So manually performing the analysis could be an infeasible task.

The communication identified from the dual\_trace give the necessary information, such as the transmitted data, the sequence of the packets of the communication. This provides the user a whole picture of a communication. This would be helpful for the users who need to understand how the data flow between the programs and might also help them to understand the architecture of the system. 

There are two main limitation of this work: 1) the identified communications might be errors, and 2) the user need to specify the communication method for the analysis. This means the user must be an expert who understand all the possible communications that would happen between the two programs. For example, if the user doesn't indicate that the two interacting programs communicated through TCP sockets, the communications cannot be identified. 

In conclusion, even though has limitations, this work is novel and shows its value for guiding the communication analysis through assembly-level execution traces. In addition, the prototype is the unique tool at the time of writing for the communication analysis in assembly-level.

\section{Challenge of Security Analysis}
Nowadays, malware is a serious problem for all systems. The intrusion of malware is generally an individual event that attacks the vulnerability of one or several specific systems. Once inside the system, it can destroy and control it. Some malware can even be spread like a virus through the Internet, invading other systems with the same vulnerability. Frequently, malware targets the system-level, and there is no damage to application software unless there are obvious vulnerabilities that can be exploited for systematic attacks. \cite{leavitt2011mobile}

On the other hand, network attacks occur often on the network layer. Data might be attacked during transmission. There are many types of network attacks, some are passive  (like monitoring information), some are active (like corrupting and destroying the data or network itself). \cite{hansman2005taxonomy}

There is not a system that is absolutely secure from attackers. The running system's behaviour can change dramatically due to all of these attacks. The goal of the communication analysis is simply to monitor the security of data transmission between programs. Perhaps the communication has been modified by the attacks mention above. This places a huge challenge for communication analysis, as the identification of  a modified communication would be an extremely difficult mission. 

However, even though there might be some cases that the communication cannot be effectively identified, this work will still be valuable to the analyst, as it will show that the data sent was not received (at least the same data was not received) by the other side and might mean that the running environment is compromised.

\section{Future Works}

Future works includes:
\begin{itemize}
\item Extend the model to be more generalize for all kinds of interaction, not only the message transferring communications, for example remote procedure call
\item Visualize the communications identified from the dual\_trace (a sequence diagram might be a good choice to illustrate all the events in the traces and the matched events from both traces.) 
\item Conduct user studies of the communication analysis approach and the prototype (user observation for tasks performing with the prototype and follow-up interview)
\item Conduct an empirical study to properly evaluate the algorithms and implementation presented in this thesis (run some applications that contain known vulnerabilities that are related to communication and see if the communication identification can assist the analyst to detect these vulnerabilities.)
\end{itemize}

Accomplish of the first two future works can make the communication analysis method developed in this work more complete. The last two future works can validate the usefulness and Usability of this work.


